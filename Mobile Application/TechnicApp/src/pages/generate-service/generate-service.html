<ion-header>

  <ion-navbar>
    <ion-title>Generate Service</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <h3>{{product.name}} - {{product.category_name}}</h3>
    <br>
    
    <form [formGroup]='myFormGenerate'>
      <ion-item>
        <ion-label>Choose a service</ion-label>
        <!-- [(ngModel)]="serviceType" -->
        <ion-select formControlName="serviceType">
          <ion-option value="r">Repair</ion-option>
          <ion-option value="w">Warranty</ion-option>
          <ion-option value="m">Maintenance</ion-option>
          <ion-option value="i">Install</ion-option>
        </ion-select>
      </ion-item>
      
      <ion-item>
        <ion-label>Payment Method</ion-label>
        <!-- [(ngModel)]="paymentMethod"  -->
        <ion-select formControlName="paymentMethod">
          <ion-option value="1">Card</ion-option>
          <ion-option value="0">Cash</ion-option>
        </ion-select>
      </ion-item>
      
      <ion-item>
        <ion-icon [name]="myIcon" (click)="takeImage()"></ion-icon>
        Add an image
      </ion-item>

      <ion-item>
        <ion-label>Send location</ion-label>
        <ion-checkbox color="dark" formControlName="location" (ionChange)="saveLocation($event)"></ion-checkbox>
      </ion-item>

    </form>
    <button ion-button block round full (click)="generate_service()" >Generate</button>
    
    <ion-item text-wrap no-lines *ngIf="!myFormGenerate.controls.serviceType.valid  && (myFormGenerate.controls.serviceType.dirty || submitAttempt) || !myFormGenerate.controls.paymentMethod.valid  && (myFormGenerate.controls.paymentMethod.dirty || submitAttempt)">
        <p>You should choose both a service and a Payment Method to generate a new Service.</p>
    </ion-item>
    
</ion-content>
